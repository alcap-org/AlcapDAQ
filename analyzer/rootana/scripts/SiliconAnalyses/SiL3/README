SiL3 Analyses

1) Produce subtrees
=====================
Creates the following "subtrees":
 - siBlockTree_SiT (all empty)
 - siBlockTree_Target ("thin" layer = empty, "thick" layer = SiL3, "third" layer = empty)
 - siBlockTree_SiL (all empty)
 - siBlockTree_SiR (all empty)
 
 - geTree_GeHiGain
 - geTree_GeLoGain

 - geTargetTree_GeHiGain
 - geTargetTree_GeLoGain

In file type: tmetree.root
Out file type: subtrees.root

To run:
> root -l -b
root[0] .L SiL3_TMELoop.C+
root[1] SiL3_TMELoop()

2) Plots
=========
Runs the following scripts to create plots, which have the given parameters, on the given subtrees:
 - XRaySpectrum.C
   -- input subtrees: geTree_GeLoGain, geTree_GeHiGain
   -- parameters: min energy, max energy, energy bin width  (for hEnergyTime)
      		  min time, max time, time bin width 	    (for hEnergyTime)

 - TargetSpectrum.C
   -- input subtrees: siBlockTree_Target
   -- parameters: min energy, max energy, energy bin width	      (for hEnergyTime)
      		  min time, max time, time bin width 	    	      (for hEnergyTime)
		  required layer, veto layer, layer coincidence time  (for other datasets where we have layers in the target)
		  
 - XRaySpectrum_wTargetCoinc.C
   -- input subtrees: geTargetTree_GeLoGain, geTargetTree_GeHiGain
   -- parameters: min ge energy, max ge energy, ge energy bin width        (for hEnergyTime)
      		  min ge time, max ge time, ge time bin width 	           (for hEnergyTime)
		  min muon energy, max muon energy  			   (for muon hit definition)
      		  min muon time, max muon time	     	 	  	   (for muon hit definition)
		  layer name, veto layer, required layer	    	   (for the hit pattern in the target we want to be coincident with)

In file type: subtrees.root
Out file type: plots.root

To run:
> root -l -b
root[0] .L SiL3_AllPlots.C+
root[1] SiL3_AllPlots()


2) Normalisation
=================
Runs the following scripts to count the number of stopped muons in various ways:

 - CountStoppedMuons_XRaySpectrum
   -- input plots: GeLoGain/hEnergyTime, GeHiGain/hEnergyTime       (from XRaySpectrum.C)
    	    	   Ge{Lo/Hi}Gain_wTargetCoinc_MuonSlice/hEnergyTime (from XRaySpectrum_wTargetCoinc.C)
   -- parameters: material, transition				    (for defining the X-ray energy and efficiency)
      		  rebin factor, fit window min, fit window max      (for fitting the X-ray peak)
		  min time, max time	   	    	   	    (for time cut)

 - CountStoppedMuons_TargetSpectrum
   -- input plots: Target/hEnergyTime		   (from TargetSpectrum.C)
   -- parameters: min muon time, max muon time	   (for muon hit definition in target)
      		  min muon energy, max muon energy (for muon hit definition in target)

In file type: plots.root
Out file type: normalisations.root

To run:
> root -l -b
root[0] .L SiL3_AllNormalisations.C+
root[1] SiL3_AllNormalisations()


3) Lifetime
============
Runs the following script to fit the muonic atom lifetime to a time distribution:

 - LifetimeFit.C
   -- input plots: Target/hEnergyTime, HighEnergy/hEnergyTime (from TargetSpectrum.C)
   -- parameters: min fit time, max fit time, rebin factor    (for the fitting)
      		  double exp, flat bkg	      	    	      (for the fit function)
		  project X, project Y			      (for projecting onto a time axis if needs be)

In file type: plots.root
Out file type: lifetime.root

To run:
> root -l -b
root[0] .L SiL3_AllLifetimes.C+
root[1] SiL3_AllLifetimes()

4) Raw Spectra
===============
Runs the following scripts to create raw energy spectra:

 - RawSpectrum_fromEnergyTime.C
   -- input plots: SiL3/hEnergyTime   (from TargetSpectrum.C)
   -- parameters:  min time, max time (for time slice)

In file type: plots.root
Out file type: raw_spectra.root

To run:
> root -l -b
root[0] .L SiL3_AllRawSpectra.C+
root[1] SiL3_AllRawSpectra()

5) Unfolds
===========
Unfolds the raw spectra in the following steps:

 1. Unfold_FlatBackground.C
    -- input plots: hRawSpectrum, hFlatBkg (from RawSpectrum_fromEnergyTime.C)
    -- no parameters

 2. Unfold_DecayElectronSpectrum.C
    -- input plots: hCorrectedSpectrum (from Unfold_FlatBackground.C)
       	     	    hEDep_muplus (from corrections.root)
    -- no parameters

In file type: raw_spectra.root, corrections.root
Out file type: unfold.root

To run:
> root -l -b
root[0] .L SiL3_AllUnfolds.C+
root[1] SiL3_AllUnfolds()

6) Final Plots
===============
Makes the following pretty plots